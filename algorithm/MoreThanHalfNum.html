<!DOCTYPE html>
<html>

    <head>
        <meta charset="UTF-8">
        <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
        <title>数组中次数出现次数超过一半的数字</title>
    </head>

    <body>
        <script>
            'use strict';

            /**
             * 数组中有一个数字出现的次数超过数组长度的一半，请找出这个数字。
             * 例如输入一个长度为9的数组{1,2,3,2,2,2,5,4,2}。
             * 由于数字2在数组中出现了5次，超过数组长度的一半，因此输出2。
             * 如果不存在则输出0。
             * 
             * 思路：
             * 遇到该数字，次数+1,
             * 遇到其它数字，次数-1，
             * 小于0后更换新的数字
             */
            function MoreThanHalfNum_Solution(numbers) {
                if (!numbers || !numbers.length) {
                    return 0;
                }
                const len = numbers.length;
                let res = 0;
                let count = 0;
                
                for (let i = 0; i < len; i++) {
                    if (count <= 0) {
                        res = numbers[i];
                        count = 1;
                    } else if (numbers[i] === res) {
                        count++;
                    } else {
                        count--;
                    }
                }
                
                count = 0;
                
                // 判断是否超过一半
                for (let i = 0; i < len; i++) {
                    if (res === numbers[i]) {
                        count++;
                    }
                }
                
                return count > (len >> 1) ? res : 0;
            }
            
            console.log(MoreThanHalfNum_Solution([1, 2, 3, 2, 2, 2, 5, 4, 2]));
            console.log(MoreThanHalfNum_Solution([1, 2, 3, 2, 3, 2, 5, 4, 2]));
        </script>
    </body>

</html>